<% content_for :title, "View Transaction" %>
<h1>
    Transaction at
    <%= @transaction.created_at %>
</h1>

<div class="container">
  <div class="row d-md-flex justify-content-md-center">
    <div class="col-md-8">
      <div class="card">
        <div style="padding-top: 5px;padding-bottom: 5px; height: 50vh">

          <div class="card-body">
            <table class="table">
              <tbody>
                <tr>
                  <td style="width:200px; ">From</td>
                  <% if(@transaction.sender.nil?) %>
                    <% sender_details = "Unknown" %>
                  <% else %>
                    <% sender_details = "#{@transaction.sender.user.lname}, #{@transaction.sender.user.fname} - #{@transaction.sender.user.username}" %>
                  <% end %>
                  <td><%= "#{@transaction.sender_id} - #{sender_details}" %></td>
                </tr>
                <tr>
                  <td>To</td>
                  <% if(@transaction.receiver.nil?) %>
                    <% receiver_details = "Unknown" %>
                  <% else %>
                    <% receiver_details = "#{@transaction.receiver.user.lname}, #{@transaction.receiver.user.fname} - #{@transaction.receiver.user.username}" %>
                  <% end %>
                  <td><%= "#{@transaction.receiver_id} - #{receiver_details}" %></td>
                </tr>
                <tr>
                  <td>Amount</td>
                  <td>
                    <%= @amount %></td>
                </tr>
              </tbody>
            </table>

            <div style="text-align: center;">
              <span>
                <td><%= link_to"EUR", transaction_path(:currency =>"EUR"), class: "btn btn-lg btn-primary", style: "margin: 2%;" %></td>
                <td><%= link_to"GBP", transaction_path(:currency =>"GBP"), class: "btn btn-lg btn-primary", style: "margin: 2%;" %></td>
                <td><%= link_to"USD", transaction_path(:currency =>"USD"), class: "btn btn-lg btn-primary", style: "margin: 2%;" %></td>
              </span>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
